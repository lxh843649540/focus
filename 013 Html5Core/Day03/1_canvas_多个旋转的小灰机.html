<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <title>随鼠标移动小灰机</title>
    <style>
        body{
            text-align: center;
        }
        canvas{
            background: #dda0dd;
        }
    </style>
</head>
<body>
<h3>随鼠标移动小灰机</h3>
<canvas id="c" width="600" height="300"></canvas>
<script>
    var ctx=c.getContext("2d");
    var p4=new Image();
    p4.src="planes/p4.png";
    var p5=new Image();
    p5.src="planes/p5.png";
    var p3=new Image();
    p3.src="planes/p3.png";
    var p0=new Image();
    p0.src="planes/p0.png";
    p4.onload=function(){
        var deg1=0;
        var deg3=0;
        setInterval(function () {
//            绘制灰机1
            //平移 旋转 绘图 逆向旋转 逆向平移
            ctx.save();
            ctx.translate(p4.width/2,p4.height/2);
            ctx.rotate(deg1*Math.PI/180);
            ctx.drawImage(p4,-p4.width/2,-p4.height/2);
            ctx.restore();
            deg1+=10;
            //绘制飞机2
            ctx.drawImage(p5,600-p5.width,0);
            //绘制飞机3
            ctx.save();
            ctx.translate(p3.width/2,300-p3.height/2);
            ctx.rotate(deg3*Math.PI/180);
            ctx.drawImage(p3,-p3.width/2,-p3.height/2);
            ctx.restore();
            deg3-=10;
            //绘制飞机2
            ctx.drawImage(p0,600-p0.width,300-p0.height);
        },50);
    };
</script>
</body>
</html>