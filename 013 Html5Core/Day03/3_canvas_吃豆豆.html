<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <title>吃豆豆</title>
    <style>
        body{
            text-align: center;
        }
        canvas{
            background: #dda0dd;
        }
    </style>
</head>
<body>
<canvas id="c" width="1350" height="650"></canvas>
<script>
    var ctx=c.getContext("2d");
    var width=1350;
    var height=650;
    var x=100;
    var y=100;
    var n=0;
    var a=39;
    //向右---张嘴状态
    function openMouthRight(){
        ctx.beginPath();
        ctx.arc(x,y,100,45*Math.PI/180,-45*Math.PI/180);
        ctx.lineWidth=5;
        ctx.stroke();
        ctx.closePath();
        //固定的眼睛
        ctx.beginPath();
        ctx.arc(x,y-50,20,0,2*Math.PI);
        ctx.fillStyle="yellow";
        ctx.fill();
        ctx.closePath();
        //张嘴巴
        ctx.beginPath();
        ctx.moveTo(x,y);
        ctx.lineTo(x+70.71,y-70.71);
        ctx.moveTo(x,y);
        ctx.lineTo(x+70.71,y+70.71);
        ctx.stroke();
        ctx.closePath();
    }
    //向右---闭嘴状态
    function closeMouthRight(){
        ctx.beginPath();
        ctx.arc(x,y,100,0,2*Math.PI);
        ctx.lineWidth=5;
        ctx.stroke();
        ctx.closePath();
        //固定的眼睛
        ctx.beginPath();
        ctx.arc(x,y-50,20,0,2*Math.PI);
        ctx.fillStyle="yellow";
        ctx.fill();
        ctx.closePath();
        //闭嘴巴
        ctx.beginPath();
        ctx.moveTo(x,y);
        ctx.lineTo(x+100,y);
        ctx.moveTo(x,y);
        ctx.lineTo(x+100,y);
        ctx.stroke();
        ctx.closePath();
    }
    //向左---张嘴状态
    function openMouthLeft(){
        ctx.beginPath();
        ctx.arc(x,y,100,-135*Math.PI/180,135*Math.PI/180);
        ctx.lineWidth=5;
        ctx.stroke();
        ctx.closePath();
        //固定的眼睛
        ctx.beginPath();
        ctx.arc(x,y-50,20,0,2*Math.PI);
        ctx.fillStyle="yellow";
        ctx.fill();
        ctx.closePath();
        //张嘴巴
        ctx.beginPath();
        ctx.moveTo(x,y);
        ctx.lineTo(x-70.71,y-70.71);
        ctx.moveTo(x,y);
        ctx.lineTo(x-70.71,y+70.71);
        ctx.stroke();
        ctx.closePath();
    }
    //向左---闭嘴状态
    function closeMouthLeft(){
        ctx.beginPath();
        ctx.arc(x,y,100,0,2*Math.PI);
        ctx.lineWidth=5;
        ctx.stroke();
        ctx.closePath();
        //固定的眼睛
        ctx.beginPath();
        ctx.arc(x,y-50,20,0,2*Math.PI);
        ctx.fillStyle="yellow";
        ctx.fill();
        ctx.closePath();
        //闭嘴巴
        ctx.beginPath();
        ctx.moveTo(x,y);
        ctx.lineTo(x-100,y);
        ctx.moveTo(x,y);
        ctx.lineTo(x-100,y);
        ctx.stroke();
        ctx.closePath();
    }
    //向上---张嘴状态
    function openMouthUp(){
        ctx.beginPath();
        ctx.arc(x,y,100,-45*Math.PI/180,225*Math.PI/180);
        ctx.lineWidth=5;
        ctx.stroke();
        ctx.closePath();
        //固定的眼睛
        ctx.beginPath();
        ctx.arc(x-50,y,20,0,2*Math.PI);
        ctx.fillStyle="yellow";
        ctx.fill();
        ctx.closePath();
        //张嘴巴
        ctx.beginPath();
        ctx.moveTo(x,y);
        ctx.lineTo(x-70.71,y-70.71);
        ctx.moveTo(x,y);
        ctx.lineTo(x+70.71,y-70.71);
        ctx.stroke();
        ctx.closePath();
    }
    //向上---闭嘴状态
    function closeMouthUp(){
        ctx.beginPath();
        ctx.arc(x,y,100,0,2*Math.PI);
        ctx.lineWidth=5;
        ctx.stroke();
        ctx.closePath();
        //固定的眼睛
        ctx.beginPath();
        ctx.arc(x-50,y,20,0,2*Math.PI);
        ctx.fillStyle="yellow";
        ctx.fill();
        ctx.closePath();
        //闭嘴巴
        ctx.beginPath();
        ctx.moveTo(x,y);
        ctx.lineTo(x,y-100);
        ctx.moveTo(x,y);
        ctx.lineTo(x,y-100);
        ctx.stroke();
        ctx.closePath();
    }
    //向下---张嘴状态
    function openMouthDown(){
        ctx.beginPath();
        ctx.arc(x,y,100,-225*Math.PI/180,45*Math.PI/180);
        ctx.lineWidth=5;
        ctx.stroke();
        ctx.closePath();
        //固定的眼睛
        ctx.beginPath();
        ctx.arc(x+50,y,20,0,2*Math.PI);
        ctx.fillStyle="yellow";
        ctx.fill();
        ctx.closePath();
        //张嘴巴
        ctx.beginPath();
        ctx.moveTo(x,y);
        ctx.lineTo(x+70.71,y+70.71);
        ctx.moveTo(x,y);
        ctx.lineTo(x-70.71,y+70.71);
        ctx.stroke();
        ctx.closePath();
    }
    //向下---闭嘴状态
    function closeMouthDown(){
        ctx.beginPath();
        ctx.arc(x,y,100,0,2*Math.PI);
        ctx.lineWidth=5;
        ctx.stroke();
        ctx.closePath();
        //固定的眼睛
        ctx.beginPath();
        ctx.arc(x+50,y,20,0,2*Math.PI);
        ctx.fillStyle="yellow";
        ctx.fill();
        ctx.closePath();
        //闭嘴巴
        ctx.beginPath();
        ctx.moveTo(x,y);
        ctx.lineTo(x,y+100);
        ctx.moveTo(x,y);
        ctx.lineTo(x,y+100);
        ctx.stroke();
        ctx.closePath();
    }
    setInterval(function(){
        ctx.clearRect(0,0,width,height);
        window.onkeydown=function(e){
            if(e.keyCode===37&&x>100){x-=50;a=37}else
            if(e.keyCode===39&&x<1250){x+=50;a=39}else
            if(e.keyCode===38&&y>100){y-=50;a=38}else
            if(e.keyCode===40&&y<530){y+=50;a=40}
        };
        if(a===39){
            if(n%2===0){
                closeMouthRight();
            }else{
                openMouthRight();
            }
        }else if(a===37){
            if(n%2===0){
                closeMouthLeft();
            }else{
                openMouthLeft();
            }
        }else if(a===38){
            if(n%2===0){
                closeMouthUp();
            }else{
                openMouthUp();
            }
        }else if(a===40){
            if(n%2===0){
                closeMouthDown();
            }else{
                openMouthDown();
            }
        }
        n+=1;
    },300);
</script>
</body>
</html>